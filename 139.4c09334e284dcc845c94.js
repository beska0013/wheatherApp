(self.webpackChunkwheather_app=self.webpackChunkwheather_app||[]).push([[139],{139:(e,t,s)=>{"use strict";s.r(t),s.d(t,{TodayModuleModule:()=>d});var i=s(116),n=s(202),r=s(619),a=s(313);const c=["data",""];function u(e,t){1&e&&(r.O4$(),r.TgZ(0,"svg"),r._UZ(1,"use",12),r.qZA())}function o(e,t){1&e&&(r.O4$(),r.TgZ(0,"svg"),r._UZ(1,"use",13),r.qZA())}function h(e,t){1&e&&(r.O4$(),r.TgZ(0,"svg"),r._UZ(1,"use",14),r.qZA())}function g(e,t){1&e&&(r.O4$(),r.TgZ(0,"svg"),r._UZ(1,"use",15),r.qZA())}const m=[{path:"",component:(()=>{class e{constructor(e){this.weatherService=e,this.rain=!1,this.snow=!1,this.clear=!1,this.clouds=!1,this.dayTimeHours=8,this.nightTimeHours=20,this.currentTemp=0,this.currentHumidity=0,this.currentRainVolume=0,this.currentWindSpeed=0,this.currentWeatherStatus="",this.currentTime=new Date,this.curentLocation="",this.getData=()=>this.weatherService.getWeatherInfo().subscribe(e=>{this.getTodayForecast(e)}),this.timeRange=this.weatherService.timeRange()}getTodayForecast(e){this.curentLocation=e.city.name+","+e.city.country;for(const t of e.list.slice(0,8)){const e=new Date(t.dt_txt).getTime();this.timeRange.start.getTime()<=e&&this.timeRange.end.getTime()>=e&&(this.currentForecast=t)}this.getWeatherStatus(this.currentForecast),this.getCurrentForecastValues(this.currentForecast)}getWeatherStatus(e){"clear"===e.weather[0].main.toLowerCase()&&(this.clear=!0),"rain"===e.weather[0].main.toLowerCase()&&(this.rain=!0),"clouds"===e.weather[0].main.toLowerCase()&&(this.clouds=!0),"snow"===e.weather[0].main.toLowerCase()&&(this.snow=!0)}getCurrentForecastValues(e){this.currentTemp=Math.floor(e.main.temp),this.currentWeatherStatus=e.weather[0].main,this.currentHumidity=e.main.humidity,this.currentRainVolume=null!=e.rain?e.rain.map(e=>e):0,this.currentWindSpeed=e.wind.speed}checkWeather(){this.currentTime.getHours()>=this.dayTimeHours&&this.currentTime.getHours()<this.nightTimeHours&&this.rain||this.clouds?document.body.classList.add("cloudy"):document.body.classList.remove("cloudy")}ngOnInit(){this.getData(),this.checkWeather()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(a.m))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-today-module","data",""]],attrs:c,decls:38,vars:18,consts:[[1,"card"],[1,"title"],[1,"icon"],[4,"ngIf"],[1,"location"],[1,"wheatherInfo"],[1,"card_content"],[1,"date"],[1,"weatherDetailes"],[0,"xlink","href","./assets/image/svg/humidity.svg#humidity"],[0,"xlink","href","./assets/image/svg/rainVolume.svg#rainVolume"],[0,"xlink","href","./assets/image/svg/wind.svg#wind"],[0,"xlink","href","./assets/image/svg/cloudy.svg#cloudy"],[0,"xlink","href","./assets/image/svg/rain.svg#rain"],[0,"xlink","href","./assets/image/svg/sun.svg#sun"],[0,"xlink","href","./assets/image/svg/snowing.svg#snow"]],template:function(e,t){1&e&&(r.TgZ(0,"section"),r.TgZ(1,"div",0),r.TgZ(2,"ul",1),r.TgZ(3,"li",2),r.YNc(4,u,2,0,"svg",3),r.YNc(5,o,2,0,"svg",3),r.YNc(6,h,2,0,"svg",3),r.YNc(7,g,2,0,"svg",3),r.qZA(),r.TgZ(8,"li",4),r.TgZ(9,"h1"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"li",5),r.TgZ(12,"span"),r._uU(13),r.qZA(),r._uU(14),r.qZA(),r.qZA(),r.TgZ(15,"div",6),r.TgZ(16,"ul",7),r.TgZ(17,"li"),r.TgZ(18,"h2"),r._uU(19),r.ALo(20,"date"),r.qZA(),r.qZA(),r.TgZ(21,"li"),r.TgZ(22,"h2"),r._uU(23),r.ALo(24,"date"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(25,"ul",8),r.TgZ(26,"li"),r.O4$(),r.TgZ(27,"svg"),r._UZ(28,"use",9),r.qZA(),r._uU(29),r.qZA(),r.kcU(),r.TgZ(30,"li"),r.O4$(),r.TgZ(31,"svg"),r._UZ(32,"use",10),r.qZA(),r._uU(33),r.qZA(),r.kcU(),r.TgZ(34,"li"),r.O4$(),r.TgZ(35,"svg"),r._UZ(36,"use",11),r.qZA(),r._uU(37),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(4),r.Q6J("ngIf",t.clouds),r.xp6(1),r.Q6J("ngIf",t.rain),r.xp6(1),r.Q6J("ngIf",t.clear),r.xp6(1),r.Q6J("ngIf",t.snow),r.xp6(3),r.Oqu(t.curentLocation),r.xp6(3),r.Oqu(t.currentTemp),r.xp6(1),r.hij(" C | ",t.currentWeatherStatus," "),r.xp6(5),r.Oqu(r.xi3(20,12,t.currentTime,"EEEE")),r.xp6(4),r.Oqu(r.xi3(24,15,t.currentTime,"dd MMM YYYY")),r.xp6(6),r.hij(" ",t.currentHumidity," % "),r.xp6(4),r.hij(" ",t.currentRainVolume," mm "),r.xp6(4),r.hij(" ",t.currentWindSpeed," km\\h "))},directives:[i.O5],pipes:[i.uU],styles:["@media screen and (max-width:575px){.forecast-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon-time[_ngcontent-%COMP%]{width:45%}}"]}),e})()}];let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[n.Bz.forChild(m)],n.Bz]}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,l]]}),e})()}}]);